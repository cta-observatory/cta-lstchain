EventSource:
  LSTEventSource:
    default_trigger_type: "ucts"
    allowed_tels: [1]
    min_flatfield_adc: 3000
    min_flatfield_pixel_fraction: 0.8
    calibrate_flatfields_and_pedestals: false

    EventTimeCalculator:
      dragon_reference_counter: null
      dragon_reference_time: null

    PointingSource:
      drive_report_path: null

    LSTR0Corrections:
      calib_scale_high_gain: 1.088
      calib_scale_low_gain: 1.004
      drs4_pedestal_path: null
      calibration_path: null
      drs4_time_calibration_path: null

DataWriter:
  Contact:
    name: YOUR-NAME-HERE
    email: YOUREMAIL@EXAMPLE.ORG
    organization: YOUR-ORGANIZATION

  overwrite: false # do not overwrite existing files
  write_images: false # store DL1 images
  write_parameters: false # store DL1 parameters
  write_showers: false # store DL2 stereo geometry
  write_raw_waveforms: false # write R0 waveforms
  write_waveforms: false # write R1 waveforms
  write_muon_parameters: false # analyze and write muon parameters

LSTInterleavedProcessor:
  CameraCalibrator:

WaveformNSBTuner:

CameraCalibrator:
  image_extractor_type:
    - ["type", "*", "NeighborPeakWindowSum"]
    - ["type", "*FlashCam", "FlashCamExtractor"]

LSTImageProcessor:
  LSTImageCleaner:
    picture_threshold_pe: # top-level threshold in photoelectrons
      - [type, "LST*", 8.5]
      - [type, "MST*NectarCam", 9.0]
      - [type, "MST*FlashCam", 9.0]
      - [type, "SST_ASTRI_CHEC", 4.0]
    boundary_threshold_pe: # second-level threshold in photoelectrons
      - [type, "LST*", 4.25]
      - [type, "MST*NectarCam", 4.5]
      - [type, "MST*FlashCam", 4.5]
      - [type, "SST_ASTRI_CHEC", 2.0]
    keep_isolated_pixels: False # If False, pixels with  < min_picture_neighbors are removed.
    min_picture_neighbors: 2 # Minimum number of neighbors above threshold to consider

  ImageQualityQuery:
    quality_criteria:
      - ["enough_pixels", "np.count_nonzero(image) > 2"]
      - ["enough_charge", "image.sum() > 50"]

LSTMuonProcessor:
  ImageParameterQuery:
    quality_criteria:
      - ["min_pixels", "dl1_params.morphology.n_pixels > 100"]
      - ["min_intensity", "dl1_params.hillas.intensity > 500"]

  RingQuery:
    quality_criteria:
      - ["radius_not_nan", "np.isfinite(ring.radius.value)"]
      - ["min_pixels", "np.count_nonzero(mask) > 50"]
      - ["ring_containment", "parameters.containment > 0.5"]

LHFitProcessor:

ShowerProcessor:
  reconstructor_types:
    - HillasReconstructor

  HillasReconstructor:
    StereoQualityQuery:
      quality_criteria:
        - [enough intensity, "parameters.hillas.intensity > 50"]
        - [Positive width, "parameters.hillas.width.value > 0"]
        - [enough pixels, "parameters.morphology.n_pixels > 3"]
        - [not clipped, "parameters.leakage.intensity_width_2 < 0.5"]
